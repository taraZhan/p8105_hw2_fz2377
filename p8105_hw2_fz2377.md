Homework 2
================
Tara Zhan

# Problem 1

``` r
# First, clean the data in 'pols-month.csv'.
pols_cleaned <- pols %>%
  # Separate the `mon` column into `year`, `month`, and `day`
  separate(mon, into = c("year", "month", "day"), sep = "-", convert = TRUE) %>%
  # Replace month number with month name
  mutate(month = month.abb[as.numeric(month)]) %>%
  # Create a `president` variable
  mutate(president = ifelse(!is.na(prez_dem), "dem", ifelse(!is.na(prez_gop), "gop", NA))) %>%
  # Remove `prez_dem`, `prez_gop`, `day` variables
  select(-day, -prez_dem, -prez_gop)
```

**pols_cleaned/(pols-month.csv)**: This dataset describes the voting
rate of presidents from 1947 to 2015. The cleaned version contains
variables like ‘year’, ‘month’, ‘political party of the president’ that
either Democratic (‘dem’) or republican (‘gop’).

``` r
# Second, clean the data in 'snp.csv'
snp_cleaned <- snp %>%
  # Separate the `date` column into `year`, `month`, and `day'
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>%
  # Replace month number with month name
  mutate(month = month.abb[as.numeric(month)]) %>%
  # Arrange the data by year and month
  arrange(year, month) %>%
  # Organize 'year' and 'month' are the leading columns
  select(year, month, everything(), -day)
```

**snp_cleaned/(snp.csv)**: This dataset describes the stock market
indexes over time. The cleaned version arranged data chronologically by
‘year’ and ‘month’, making the dataset easier to read. It also contains
‘close’ values.

``` r
# Third, tidy the 'unemployment.csv' then merged with the previous datasets
unemployment_long <- unemployment %>%
  #convert from wide to long format
  gather(key = "month", value = "unemployment_rate", -Year)
unemployment_long <- unemployment_long %>%
  rename(year = Year)
```

**unemployment_cleaned/(unemployment.csv)**: This dataset describes
unemployment rates in each months from 1948 to 2015. The tidying version
convert the dataset from wide to long format, making it easier to merge
with other datasets. It also contains ‘unemployment rate’ values.

``` r
# Merging 'snp' into 'pols', and merging 'unemployment' into the result.
combined_data <- pols_cleaned %>%
  # Merge 'snp' into 'pols'
  left_join(snp_cleaned, by = c("year", "month")) %>%
  # Merge 'unemployment'
  left_join(unemployment_long, by = c("year", "month"))
```

**combined_data:** This is a combination of three above cleaned version
datasets based on the ‘year’ and ‘month’. This combined dataset
describes an outlook of political, economic, and unemployment rates from
year 1948 to year 2015. This combined_data has 11 columns, 822 rows, and
spans from the year 1947 to 2015. Key variables in this dataset include:
year, month, gov_gop, sen_gop, rep_gop, gov_dem, sen_dem, rep_dem,
president, close, unemployment_rate.

# Problem 2

``` r
# clean Mr. Trash Wheel sheet, and add a new variables
mr_trash_wheel <- 
  read_excel("trash_wheel_collection.xlsx", 1, range="A2:N549") |>
  janitor::clean_names() |>
  filter(homes_powered!=0.00000) |>
# based on calculation.
  mutate(homes_powered = weight_tons * (500/30))
view(mr_trash_wheel)
```

``` r
#clean Professor Trash Wheel sheet 
prof_trash_wheel <- 
  read_excel("trash_wheel_collection.xlsx", 2, range="A2:M96") |>
  janitor::clean_names() |>
  drop_na() |>
# based on calculation.
  mutate(homes_powered = weight_tons * (500/30))
view(prof_trash_wheel)
```

``` r
#clean Gwynnda Trash Wheel sheet 
gwyn_trash_wheel <- 
  read_excel("trash_wheel_collection.xlsx", 4, range="A2:K108") |>
  janitor::clean_names() |>
  drop_na() |>
# based on calculation.
  mutate(homes_powered = weight_tons * (500/30))
view(gwyn_trash_wheel)
```

``` r
# Add wheel_name
mr_trash_wheel <- mr_trash_wheel %>%
  mutate(wheel_name = "Mr. Trash Wheel")
prof_trash_wheel <- prof_trash_wheel %>%
  mutate(wheel_name = "Professor Trash Wheel")
gwyn_trash_wheel <- gwyn_trash_wheel %>%
  mutate(wheel_name = "Gwynnda Trash Wheel")
# Convert year to numeric
mr_trash_wheel$year <- as.numeric(mr_trash_wheel$year)
prof_trash_wheel$year <- as.numeric(prof_trash_wheel$year)
gwyn_trash_wheel$year <- as.numeric(gwyn_trash_wheel$year)

#combine all datasets
combined_trash_wheel <- bind_rows(mr_trash_wheel, prof_trash_wheel, gwyn_trash_wheel)
# View the combined dataset
view(combined_trash_wheel)
```

The “combined_trash_wheel” dataset is a combination of data derived from
Mr. Trash Wheel, Professor Trash Wheel, and Gwynnda Trash Wheel. This
combination includes a total of 519 observations, and calculate the
number of homes powered. It is computed using the formula provided,
where each ton of trash is equated to 500 kilowatts of electricity.  
For available data, the total weight of trash collected by Professor
Trash Wheel is 162.54 tons. The total number of cigarette butts
collected by Gwynnda in July of 2021 is 1.63^{4} cigarette butts.

# Problem 3

``` r
# Read CSV files:
baseline <- 
  read.csv("data_mci/MCI_baseline.csv", skip = 1) |>
  janitor::clean_names() |>
  mutate(
      sex = recode(sex, "1" = "male", "0" = "female"),
      apoe4 = recode(apoe4, "1" = "carrier", "0" = "non-carrier")
      ) |>    # Convert sex and APOE4 status to factor 
  rename("study_id" = "id")
# delete no MCI at baseline
baseline$age_at_onset <- 
  replace(baseline$age_at_onset, baseline$age_at_onset == ".", NA)
cleaned_baseline <- drop_na(print(baseline))
```

    ##     study_id current_age    sex education       apoe4 age_at_onset
    ## 1          1        63.1 female        16     carrier         <NA>
    ## 2          2        65.6 female        20     carrier         <NA>
    ## 3          3        62.5   male        16     carrier         66.8
    ## 4          4        69.8 female        16 non-carrier         <NA>
    ## 5          5        66.0   male        16 non-carrier         68.7
    ## 6          6        62.5   male        16 non-carrier         <NA>
    ## 7          7        66.5   male        18 non-carrier           74
    ## 8          8        67.2 female        18 non-carrier         <NA>
    ## 9          9        66.7 female        16 non-carrier         <NA>
    ## 10        10        64.1 female        18 non-carrier         <NA>
    ## 11        11        69.5 female        16 non-carrier         <NA>
    ## 12        12        66.2 female        18 non-carrier         <NA>
    ## 13        13        63.1   male        12     carrier           69
    ## 14        14        58.4 female        20 non-carrier         66.2
    ## 15        15        68.4   male        20 non-carrier         <NA>
    ## 16        16        64.9 female        16 non-carrier         <NA>
    ## 17        17        65.0 female        18 non-carrier         <NA>
    ## 18        18        67.8   male        16 non-carrier         69.8
    ## 19        19        67.5   male        16     carrier         <NA>
    ## 20        20        66.8   male        16 non-carrier         <NA>
    ## 21        21        67.8   male        16 non-carrier         <NA>
    ## 22        22        67.3 female        20     carrier         74.6
    ## 23        23        65.2   male        18 non-carrier         <NA>
    ## 24        24        59.0 female        12 non-carrier         <NA>
    ## 25        25        66.9   male        16 non-carrier         <NA>
    ## 26        26        64.8 female        20     carrier         71.1
    ## 27        27        64.5 female        16 non-carrier         <NA>
    ## 28        28        60.6   male        20 non-carrier         <NA>
    ## 29        29        63.6   male        16 non-carrier         <NA>
    ## 30        30        66.3 female        12 non-carrier         73.1
    ## 31        31        69.1 female        12 non-carrier         <NA>
    ## 32        32        64.7   male        16 non-carrier         <NA>
    ## 33        33        66.2   male        18 non-carrier         <NA>
    ## 34        34        64.8 female        16     carrier         <NA>
    ## 35        35        60.9 female        12 non-carrier         <NA>
    ## 36        36        63.8   male        16 non-carrier         <NA>
    ## 37        37        63.8   male        16 non-carrier         <NA>
    ## 38        38        64.8 female        18 non-carrier         <NA>
    ## 39        39        68.3 female        16     carrier         70.2
    ## 40        40        67.3   male        16 non-carrier         <NA>
    ## 41        41        64.5   male        16 non-carrier         <NA>
    ## 42        42        64.2   male        16 non-carrier         <NA>
    ## 43        43        67.1 female        16     carrier         71.6
    ## 44        44        66.7   male        20 non-carrier         <NA>
    ## 45        45        62.9   male        20     carrier         65.2
    ## 46        46        62.9   male        16 non-carrier         <NA>
    ## 47        47        66.1 female        12     carrier         <NA>
    ## 48        48        67.3   male        16 non-carrier         <NA>
    ## 49        49        64.7   male        16 non-carrier         68.4
    ## 50        50        67.6 female        18     carrier         <NA>
    ## 51        51        66.2   male        16 non-carrier         <NA>
    ## 52        52        63.2 female        16     carrier         <NA>
    ## 53        53        66.0   male        20 non-carrier         <NA>
    ## 54        54        61.6 female        16 non-carrier         <NA>
    ## 55        55        69.3 female        16     carrier         73.6
    ## 56        56        70.9   male        20 non-carrier         <NA>
    ## 57        57        63.9 female        16 non-carrier         <NA>
    ## 58        58        61.9   male        12 non-carrier         <NA>
    ## 59        59        66.7 female        20     carrier         74.4
    ## 60        60        64.6   male        18 non-carrier         <NA>
    ## 61        61        72.2   male        16 non-carrier         <NA>
    ## 62        62        64.9 female        18 non-carrier         <NA>
    ## 63        63        67.1 female        20 non-carrier         <NA>
    ## 64        64        65.1   male        16     carrier         <NA>
    ## 65        65        62.8 female        16 non-carrier         66.5
    ## 66        66        65.6 female        20 non-carrier         <NA>
    ## 67        67        59.6   male        18 non-carrier         64.2
    ## 68        68        69.4   male        20 non-carrier         <NA>
    ## 69        69        65.5 female        20     carrier         72.5
    ## 70        70        71.5   male        16 non-carrier         <NA>
    ## 71        71        66.4   male        16 non-carrier         <NA>
    ## 72        72        62.9   male        16     carrier         62.5
    ## 73        73        66.8 female        18 non-carrier         <NA>
    ## 74        74        62.2   male        20     carrier         <NA>
    ## 75        75        61.2 female        16     carrier         65.4
    ## 76        76        65.9   male        12 non-carrier           68
    ## 77        77        63.7 female        18     carrier         66.4
    ## 78        78        65.0   male        16 non-carrier           68
    ## 79        79        65.2   male        16 non-carrier         <NA>
    ## 80        80        63.2   male        20 non-carrier         <NA>
    ## 81        81        63.3   male        16 non-carrier         <NA>
    ## 82        82        64.6   male        12 non-carrier         <NA>
    ## 83        83        68.5 female        12 non-carrier         <NA>
    ## 84        84        60.4   male        20 non-carrier         <NA>
    ## 85        85        66.8 female        16 non-carrier         <NA>
    ## 86        86        66.0 female        18     carrier         71.7
    ## 87        87        68.2   male        18 non-carrier           76
    ## 88        88        64.1   male        16 non-carrier         <NA>
    ## 89        89        66.1 female        16     carrier         66.2
    ## 90        90        65.8   male        16 non-carrier         <NA>
    ## 91        91        63.4   male        16     carrier         <NA>
    ## 92        92        68.6 female        20 non-carrier         <NA>
    ## 93        93        68.5   male        16     carrier         <NA>
    ## 94        94        67.1   male        16 non-carrier         <NA>
    ## 95        95        69.8 female        16 non-carrier         <NA>
    ## 96        96        66.7 female        16 non-carrier         <NA>
    ## 97        97        61.2   male        16 non-carrier         <NA>
    ## 98        98        63.3 female        16     carrier         <NA>
    ## 99        99        61.3 female        20 non-carrier         <NA>
    ## 100      100        63.6 female        16 non-carrier         <NA>
    ## 101      101        63.1 female        16 non-carrier         <NA>
    ## 102      102        65.1   male        16 non-carrier         <NA>
    ## 103      103        62.3   male        16 non-carrier         <NA>
    ## 104      104        65.5   male        12 non-carrier         <NA>
    ## 105      105        63.0   male        20 non-carrier         <NA>
    ## 106      106        70.3 female        16     carrier         74.8
    ## 107      107        67.2   male        16     carrier         <NA>
    ## 108      108        67.7   male        16 non-carrier         <NA>
    ## 109      109        66.2 female        16     carrier         68.4
    ## 110      110        70.0   male        16 non-carrier         <NA>
    ## 111      111        63.1   male        16 non-carrier         <NA>
    ## 112      112        63.6 female        18 non-carrier         <NA>
    ## 113      113        69.3   male        16     carrier         <NA>
    ## 114      114        63.0 female        18     carrier         <NA>
    ## 115      115        64.4 female        20 non-carrier         <NA>
    ## 116      116        63.8   male        20 non-carrier         <NA>
    ## 117      117        64.0   male        18     carrier         <NA>
    ## 118      118        64.2 female        16     carrier         <NA>
    ## 119      119        66.5   male        16 non-carrier         <NA>
    ## 120      120        64.5 female        20     carrier         72.2
    ## 121      121        63.5   male        18 non-carrier         <NA>
    ## 122      122        69.0 female        16 non-carrier         <NA>
    ## 123      123        64.4   male        18     carrier         67.4
    ## 124      124        64.5 female        16 non-carrier         <NA>
    ## 125      125        64.7 female        18     carrier         <NA>
    ## 126      126        67.1 female        20 non-carrier         <NA>
    ## 127      127        64.8   male        16 non-carrier         <NA>
    ## 128      128        64.9   male        12 non-carrier         <NA>
    ## 129      129        63.0   male        16 non-carrier         <NA>
    ## 130      130        64.0   male        18     carrier         <NA>
    ## 131      131        65.2 female        12 non-carrier         <NA>
    ## 132      132        63.2   male        16     carrier           66
    ## 133      133        66.6   male        18 non-carrier         <NA>
    ## 134      134        60.4   male        16     carrier         <NA>
    ## 135      135        65.9   male        16 non-carrier         <NA>
    ## 136      136        60.4   male        16 non-carrier         <NA>
    ## 137      137        64.1   male        16 non-carrier         <NA>
    ## 138      138        63.4 female        16     carrier         <NA>
    ## 139      139        63.0 female        18 non-carrier         <NA>
    ## 140      140        64.8   male        16 non-carrier         <NA>
    ## 141      141        59.3   male        16     carrier         <NA>
    ## 142      142        68.5   male        18 non-carrier         <NA>
    ## 143      143        60.0 female        20 non-carrier         <NA>
    ## 144      144        63.6   male        16 non-carrier         <NA>
    ## 145      145        61.7 female        18 non-carrier         <NA>
    ## 146      146        62.7 female        16 non-carrier         66.7
    ## 147      147        71.3   male        16 non-carrier         <NA>
    ## 148      148        65.1   male        16 non-carrier         <NA>
    ## 149      149        61.1 female        16     carrier         68.9
    ## 150      150        60.1   male        12 non-carrier         <NA>
    ## 151      151        66.4 female        16 non-carrier         <NA>
    ## 152      152        64.9   male        16 non-carrier         <NA>
    ## 153      153        64.0 female        16 non-carrier         <NA>
    ## 154      154        62.2 female        16 non-carrier         <NA>
    ## 155      155        60.5 female        12 non-carrier         <NA>
    ## 156      156        61.8   male        18 non-carrier         <NA>
    ## 157      157        68.0   male        16     carrier         <NA>
    ## 158      158        63.1   male        18 non-carrier         <NA>
    ## 159      159        60.8   male        16 non-carrier         <NA>
    ## 160      160        70.6   male        16 non-carrier         <NA>
    ## 161      161        66.3   male        16     carrier         <NA>
    ## 162      162        64.3   male        16     carrier         <NA>
    ## 163      163        68.2 female        12 non-carrier         <NA>
    ## 164      164        67.7   male        16 non-carrier         <NA>
    ## 165      165        63.1 female        20 non-carrier         <NA>
    ## 166      166        71.6   male        12     carrier         74.2
    ## 167      167        64.2 female        16 non-carrier         <NA>
    ## 168      168        60.7   male        16 non-carrier         <NA>
    ## 169      169        64.6 female        16 non-carrier         <NA>
    ## 170      170        65.6   male        16 non-carrier         70.7
    ## 171      171        71.9 female        20 non-carrier         <NA>
    ## 172      172        65.3 female        20 non-carrier         <NA>
    ## 173      173        66.4   male        12     carrier         <NA>
    ## 174      174        64.8   male        16 non-carrier         <NA>
    ## 175      175        64.0 female        18 non-carrier         <NA>
    ## 176      176        64.9   male        18 non-carrier         <NA>
    ## 177      177        67.4 female        16     carrier         74.4
    ## 178      178        71.2 female        20 non-carrier         <NA>
    ## 179      179        68.1   male        16 non-carrier         <NA>
    ## 180      180        68.6   male        16 non-carrier         <NA>
    ## 181      181        61.3   male        12     carrier         <NA>
    ## 182      182        68.0   male        18     carrier         <NA>
    ## 183      183        65.7   male        16     carrier         <NA>
    ## 184      184        60.6   male        20 non-carrier         <NA>
    ## 185      185        66.6 female        12 non-carrier         <NA>
    ## 186      186        64.5   male        20     carrier         69.5
    ## 187      187        69.4   male        16 non-carrier         <NA>
    ## 188      188        62.7 female        12 non-carrier         <NA>
    ## 189      189        63.7   male        16 non-carrier         <NA>
    ## 190      190        62.2   male        12 non-carrier         <NA>
    ## 191      191        64.5 female        16 non-carrier         <NA>
    ## 192      192        66.2 female        16     carrier         <NA>
    ## 193      193        62.8   male        20     carrier         <NA>
    ## 194      194        67.5 female        16     carrier         <NA>
    ## 195      195        61.4   male        18     carrier         <NA>
    ## 196      196        61.9 female        16 non-carrier         <NA>
    ## 197      197        69.3 female        16 non-carrier         <NA>
    ## 198      198        62.0 female        18 non-carrier         <NA>
    ## 199      199        66.2   male        18 non-carrier         <NA>
    ## 200      200        63.9   male        16 non-carrier         <NA>
    ## 201      201        66.2   male        18 non-carrier         <NA>
    ## 202      202        70.1 female        18     carrier         75.2
    ## 203      203        69.8 female        18 non-carrier         <NA>
    ## 204      204        64.0 female        16 non-carrier         <NA>
    ## 205      205        58.1 female        16     carrier         <NA>
    ## 206      206        72.5 female        16 non-carrier         <NA>
    ## 207      207        67.0 female        16 non-carrier         <NA>
    ## 208      208        66.6 female        18 non-carrier         <NA>
    ## 209      209        65.0   male        16 non-carrier         <NA>
    ## 210      210        66.5 female        16 non-carrier         <NA>
    ## 211      211        64.5   male        16 non-carrier         <NA>
    ## 212      212        66.3 female        16     carrier         <NA>
    ## 213      213        63.8   male        16 non-carrier         <NA>
    ## 214      214        60.9   male        16 non-carrier         <NA>
    ## 215      215        68.0   male        16 non-carrier         <NA>
    ## 216      216        69.6 female        12 non-carrier         <NA>
    ## 217      217        64.1 female        16 non-carrier         <NA>
    ## 218      218        61.2   male        16 non-carrier         65.9
    ## 219      219        66.9 female        16     carrier         <NA>
    ## 220      220        64.9   male        16 non-carrier         <NA>
    ## 221      221        59.8 female        18 non-carrier         <NA>
    ## 222      222        65.0   male        16 non-carrier         <NA>
    ## 223      223        63.1 female        20     carrier         <NA>
    ## 224      224        64.0 female        12 non-carrier         <NA>
    ## 225      225        61.5   male        16 non-carrier         <NA>
    ## 226      226        70.4   male        16 non-carrier         75.4
    ## 227      227        64.0   male        16     carrier         <NA>
    ## 228      228        60.2   male        12 non-carrier         <NA>
    ## 229      229        65.6 female        18 non-carrier         70.9
    ## 230      230        65.8 female        20     carrier         70.8
    ## 231      231        62.0   male        12     carrier         <NA>
    ## 232      232        56.3   male        16 non-carrier         <NA>
    ## 233      233        63.1   male        16 non-carrier         <NA>
    ## 234      234        66.7   male        18 non-carrier         66.7
    ## 235      235        64.8   male        16 non-carrier         <NA>
    ## 236      236        64.7 female        18 non-carrier         <NA>
    ## 237      237        66.7   male        16 non-carrier         <NA>
    ## 238      238        61.4   male        16 non-carrier         <NA>
    ## 239      239        68.3   male        16 non-carrier         <NA>
    ## 240      240        65.0 female        16     carrier         <NA>
    ## 241      241        67.1   male        12 non-carrier         <NA>
    ## 242      242        68.1   male        12 non-carrier         75.6
    ## 243      243        65.7   male        18 non-carrier         <NA>
    ## 244      244        62.4   male        16 non-carrier         <NA>
    ## 245      245        68.5 female        16 non-carrier         <NA>
    ## 246      246        59.0 female        16 non-carrier         <NA>
    ## 247      247        63.4 female        16 non-carrier         <NA>
    ## 248      248        64.2 female        20 non-carrier         <NA>
    ## 249      249        64.5 female        16     carrier         68.4
    ## 250      250        68.1   male        16     carrier         74.5
    ## 251      251        65.4   male        16 non-carrier         <NA>
    ## 252      252        66.2   male        16     carrier         69.6
    ## 253      253        64.8 female        16 non-carrier         <NA>
    ## 254      254        64.3 female        16 non-carrier         <NA>
    ## 255      255        67.1   male        20 non-carrier         <NA>
    ## 256      256        68.4   male        16 non-carrier         <NA>
    ## 257      257        57.8   male        18 non-carrier         <NA>
    ## 258      258        66.7   male        16 non-carrier         <NA>
    ## 259      259        66.1 female        16 non-carrier         <NA>
    ## 260      260        63.7   male        18     carrier         <NA>
    ## 261      261        67.9   male        16     carrier         <NA>
    ## 262      262        63.8 female        16 non-carrier         <NA>
    ## 263      263        64.1   male        18 non-carrier         <NA>
    ## 264      264        67.6 female        16 non-carrier         <NA>
    ## 265      265        70.2   male        16 non-carrier         <NA>
    ## 266      266        65.8   male        16 non-carrier         <NA>
    ## 267      267        63.7   male        16 non-carrier         <NA>
    ## 268      268        61.4 female        18     carrier         67.5
    ## 269      269        64.0   male        20 non-carrier         <NA>
    ## 270      270        62.2   male        16     carrier         <NA>
    ## 271      271        64.2   male        12     carrier         <NA>
    ## 272      272        66.2   male        16     carrier         <NA>
    ## 273      273        62.4 female        16 non-carrier         <NA>
    ## 274      274        72.9 female        16 non-carrier         <NA>
    ## 275      275        65.5 female        12 non-carrier         <NA>
    ## 276      276        68.4 female        16     carrier         <NA>
    ## 277      277        58.1   male        16     carrier         61.6
    ## 278      278        67.2 female        16 non-carrier         <NA>
    ## 279      279        61.1 female        18 non-carrier         <NA>
    ## 280      280        67.8 female        16     carrier         71.8
    ## 281      281        66.2   male        16     carrier         <NA>
    ## 282      282        63.8 female        16     carrier         <NA>
    ## 283      283        69.0   male        16 non-carrier         68.3
    ## 284      284        62.9 female        16 non-carrier         <NA>
    ## 285      285        63.3 female        12 non-carrier         <NA>
    ## 286      286        62.0   male        16     carrier         67.4
    ## 287      287        63.0   male        16     carrier           68
    ## 288      288        67.8 female        16 non-carrier         <NA>
    ## 289      289        66.3   male        18     carrier         74.1
    ## 290      290        68.0   male        12 non-carrier         <NA>
    ## 291      291        63.8   male        16 non-carrier         <NA>
    ## 292      292        66.1 female        18 non-carrier         70.2
    ## 293      293        65.7 female        16 non-carrier         <NA>
    ## 294      294        60.7   male        18 non-carrier         <NA>
    ## 295      295        70.3   male        20 non-carrier         <NA>
    ## 296      296        65.4 female        16 non-carrier         <NA>
    ## 297      297        67.3   male        16     carrier         73.9
    ## 298      298        67.9   male        16 non-carrier         <NA>
    ## 299      299        64.8   male        16 non-carrier         <NA>
    ## 300      300        64.1   male        16     carrier         <NA>
    ## 301      301        67.7 female        16 non-carrier         73.4
    ## 302      302        61.9   male        16     carrier         <NA>
    ## 303      303        70.9   male        16 non-carrier         <NA>
    ## 304      304        63.8 female        16 non-carrier         <NA>
    ## 305      305        70.0 female        18     carrier         77.2
    ## 306      306        69.5 female        16 non-carrier         72.6
    ## 307      307        65.2   male        16 non-carrier         <NA>
    ## 308      308        66.7 female        12     carrier         <NA>
    ## 309      309        61.9 female        18 non-carrier         <NA>
    ## 310      310        66.0   male        16     carrier         <NA>
    ## 311      311        68.1   male        16 non-carrier         <NA>
    ## 312      312        65.3   male        16 non-carrier         <NA>
    ## 313      313        63.6   male        18 non-carrier         <NA>
    ## 314      314        63.0 female        16 non-carrier         68.7
    ## 315      315        64.9 female        16 non-carrier         <NA>
    ## 316      316        68.2 female        16 non-carrier         <NA>
    ## 317      317        63.5   male        18 non-carrier         <NA>
    ## 318      318        64.6   male        12 non-carrier         <NA>
    ## 319      319        61.1 female        16 non-carrier         <NA>
    ## 320      320        66.5   male        18 non-carrier         <NA>
    ## 321      321        68.9 female        16 non-carrier         <NA>
    ## 322      322        69.5   male        20     carrier         <NA>
    ## 323      323        67.4 female        16     carrier         73.9
    ## 324      324        59.4   male        16 non-carrier         <NA>
    ## 325      325        66.4   male        16 non-carrier         <NA>
    ## 326      326        66.4 female        16 non-carrier         <NA>
    ## 327      327        63.9   male        16 non-carrier         <NA>
    ## 328      328        65.5   male        16 non-carrier           71
    ## 329      329        62.4   male        12 non-carrier         <NA>
    ## 330      330        67.0 female        18     carrier         <NA>
    ## 331      331        64.0   male        16 non-carrier         <NA>
    ## 332      332        60.3 female        12 non-carrier         <NA>
    ## 333      333        63.9   male        16     carrier         <NA>
    ## 334      334        69.1   male        20 non-carrier         <NA>
    ## 335      335        64.0 female        18 non-carrier         <NA>
    ## 336      336        67.2 female        16     carrier         73.7
    ## 337      337        67.8 female        16 non-carrier           75
    ## 338      338        65.0 female        16 non-carrier         70.8
    ## 339      339        63.9 female        12 non-carrier         <NA>
    ## 340      340        63.4   male        16 non-carrier         <NA>
    ## 341      341        67.2   male        18 non-carrier         <NA>
    ## 342      342        61.8   male        20 non-carrier         <NA>
    ## 343      343        65.7 female        12 non-carrier         <NA>
    ## 344      344        64.1   male        12     carrier         <NA>
    ## 345      345        58.2   male        18 non-carrier         <NA>
    ## 346      346        60.8   male        16     carrier         <NA>
    ## 347      347        67.7   male        16     carrier         68.9
    ## 348      348        64.4   male        16     carrier         70.4
    ## 349      349        67.4 female        18     carrier           70
    ## 350      350        70.7 female        16     carrier         75.2
    ## 351      351        69.4   male        16     carrier         76.6
    ## 352      352        67.0   male        16     carrier         69.3
    ## 353      353        66.1   male        16 non-carrier         <NA>
    ## 354      354        64.4   male        20     carrier         <NA>
    ## 355      355        69.7   male        16     carrier         75.3
    ## 356      356        66.8 female        20 non-carrier         <NA>
    ## 357      357        61.5 female        20 non-carrier         <NA>
    ## 358      358        64.5   male        12     carrier         <NA>
    ## 359      359        59.2   male        18 non-carrier         <NA>
    ## 360      360        64.4 female        18 non-carrier         <NA>
    ## 361      361        57.2 female        18     carrier         <NA>
    ## 362      362        68.9 female        16 non-carrier         <NA>
    ## 363      363        63.1   male        20 non-carrier         <NA>
    ## 364      364        63.7   male        18 non-carrier         <NA>
    ## 365      365        64.5 female        16 non-carrier         67.7
    ## 366      366        66.8   male        16     carrier         72.8
    ## 367      367        67.0 female        16 non-carrier         <NA>
    ## 368      368        66.7   male        16 non-carrier         <NA>
    ## 369      369        63.3   male        18     carrier         68.6
    ## 370      370        60.9 female        16     carrier         <NA>
    ## 371      371        63.8   male        12     carrier         <NA>
    ## 372      372        65.8   male        16 non-carrier         <NA>
    ## 373      373        62.5   male        16 non-carrier           66
    ## 374      374        64.8   male        18 non-carrier         <NA>
    ## 375      375        61.5 female        16 non-carrier         <NA>
    ## 376      376        65.0 female        16 non-carrier         <NA>
    ## 377      377        65.4 female        16     carrier         68.2
    ## 378      378        64.6 female        16     carrier         <NA>
    ## 379      379        64.5   male        16 non-carrier         70.9
    ## 380      380        70.3 female        16 non-carrier         70.2
    ## 381      381        67.3 female        16     carrier         <NA>
    ## 382      382        68.3 female        20 non-carrier         <NA>
    ## 383      383        62.2   male        18 non-carrier         <NA>
    ## 384      384        65.5   male        16 non-carrier         <NA>
    ## 385      385        68.5   male        20 non-carrier         <NA>
    ## 386      386        64.8   male        16     carrier         <NA>
    ## 387      387        58.6   male        16     carrier         <NA>
    ## 388      388        66.0 female        16 non-carrier         <NA>
    ## 389      389        59.3 female        16 non-carrier         <NA>
    ## 390      390        62.6 female        16 non-carrier         <NA>
    ## 391      391        69.0 female        18 non-carrier         <NA>
    ## 392      392        66.8   male        16 non-carrier         <NA>
    ## 393      393        68.3   male        12 non-carrier         <NA>
    ## 394      394        65.9 female        16 non-carrier         <NA>
    ## 395      395        64.7 female        12 non-carrier         <NA>
    ## 396      396        62.2   male        18 non-carrier         <NA>
    ## 397      397        69.8 female        16 non-carrier         <NA>
    ## 398      398        65.1 female        16 non-carrier           73
    ## 399      399        62.9   male        18 non-carrier         <NA>
    ## 400      400        67.6 female        16 non-carrier         71.9
    ## 401      401        68.2   male        20 non-carrier         <NA>
    ## 402      402        70.7 female        16 non-carrier         <NA>
    ## 403      403        63.2 female        16     carrier         <NA>
    ## 404      404        63.8   male        20     carrier         <NA>
    ## 405      405        63.8   male        18 non-carrier         <NA>
    ## 406      406        63.9 female        16 non-carrier         <NA>
    ## 407      407        63.9   male        16 non-carrier         <NA>
    ## 408      408        64.1   male        20     carrier         70.2
    ## 409      409        69.3   male        16     carrier         75.2
    ## 410      410        62.9   male        16 non-carrier         <NA>
    ## 411      411        63.8   male        16     carrier         <NA>
    ## 412      412        67.0   male        16     carrier         <NA>
    ## 413      413        68.4   male        20 non-carrier         <NA>
    ## 414      414        62.7 female        16 non-carrier         <NA>
    ## 415      415        63.5   male        18 non-carrier         <NA>
    ## 416      416        66.6 female        16 non-carrier         68.9
    ## 417      417        68.1 female        16     carrier         72.5
    ## 418      418        64.2   male        12     carrier         <NA>
    ## 419      419        60.7 female        16     carrier         63.8
    ## 420      420        70.1   male        16 non-carrier         <NA>
    ## 421      421        69.3 female        16 non-carrier         <NA>
    ## 422      422        62.9 female        12     carrier         <NA>
    ## 423      423        64.8 female        16     carrier         70.3
    ## 424      424        59.7   male        18     carrier         62.9
    ## 425      425        66.7   male        16 non-carrier         <NA>
    ## 426      426        69.8   male        16 non-carrier         76.8
    ## 427      427        60.1   male        12 non-carrier         <NA>
    ## 428      428        62.7   male        18 non-carrier         <NA>
    ## 429      429        63.1   male        16     carrier         <NA>
    ## 430      430        63.0 female        20 non-carrier         <NA>
    ## 431      431        58.9   male        16     carrier         61.2
    ## 432      432        66.5 female        16 non-carrier         <NA>
    ## 433      433        60.4   male        12     carrier         <NA>
    ## 434      434        64.9   male        16 non-carrier         <NA>
    ## 435      435        66.8 female        16 non-carrier         <NA>
    ## 436      436        64.4   male        12     carrier         <NA>
    ## 437      437        67.7 female        18     carrier         <NA>
    ## 438      438        64.9 female        16 non-carrier         <NA>
    ## 439      439        63.1 female        16 non-carrier         <NA>
    ## 440      440        66.9   male        16     carrier         72.3
    ## 441      441        63.7 female        18 non-carrier         <NA>
    ## 442      442        70.3   male        18 non-carrier         71.3
    ## 443      443        64.9   male        20     carrier         <NA>
    ## 444      444        67.6 female        16 non-carrier         <NA>
    ## 445      445        65.6 female        16 non-carrier         <NA>
    ## 446      446        56.0   male        16     carrier         <NA>
    ## 447      447        60.9   male        16 non-carrier         <NA>
    ## 448      448        63.7   male        12     carrier         68.5
    ## 449      449        65.7   male        16     carrier         69.6
    ## 450      450        58.0 female        16 non-carrier         <NA>
    ## 451      451        67.9 female        16 non-carrier         <NA>
    ## 452      452        63.2   male        16     carrier         70.1
    ## 453      453        62.7   male        18 non-carrier         68.6
    ## 454      454        60.3 female        16     carrier         <NA>
    ## 455      455        60.6 female        18 non-carrier         <NA>
    ## 456      456        65.2   male        16 non-carrier         <NA>
    ## 457      457        66.5 female        12     carrier         <NA>
    ## 458      458        58.7   male        16     carrier         <NA>
    ## 459      459        62.0   male        16 non-carrier         <NA>
    ## 460      460        66.6 female        16 non-carrier         <NA>
    ## 461      461        63.6   male        18 non-carrier         <NA>
    ## 462      462        71.5   male        16 non-carrier         <NA>
    ## 463      463        68.7 female        16     carrier         <NA>
    ## 464      464        66.8   male        20 non-carrier         <NA>
    ## 465      465        65.0   male        16 non-carrier         <NA>
    ## 466      466        65.8   male        18 non-carrier         <NA>
    ## 467      467        62.9   male        18 non-carrier         <NA>
    ## 468      468        66.9 female        16     carrier         <NA>
    ## 469      469        69.4 female        18 non-carrier         <NA>
    ## 470      470        68.3   male        12 non-carrier         <NA>
    ## 471      471        62.6   male        16     carrier         68.9
    ## 472      472        60.1 female        12 non-carrier         <NA>
    ## 473      473        64.7 female        16 non-carrier         <NA>
    ## 474      474        66.3   male        16 non-carrier         <NA>
    ## 475      475        69.1   male        16 non-carrier         <NA>
    ## 476      476        61.0   male        16 non-carrier         <NA>
    ## 477      477        66.1 female        18 non-carrier         <NA>
    ## 478      478        65.7   male        16 non-carrier         <NA>
    ## 479      479        68.6 female        18 non-carrier         <NA>
    ## 480      480        64.9 female        20 non-carrier         <NA>
    ## 481      481        63.9   male        16 non-carrier         <NA>
    ## 482      482        61.6   male        18 non-carrier         <NA>
    ## 483      483        63.4   male        16     carrier         <NA>

``` r
cleaned_baseline$age_at_onset <- as.numeric(cleaned_baseline$age_at_onset)
```

After importing and reformatting the dataset, the “sex” and “APOE4”
variables were converted to meaningful characters, and participants who
did not develop MCI were removed from the dataset. At the beginning,
this study recruited 483 participants, and among them only 97
participants develop MCI. Based on the data from cleaned version, the
average baseline age is around 70.2628866 years, and based on the total
participants, the proportion of women are carriers is around 29.8578199
% people.

``` r
# Read CSV files:
amyloid <- 
  read.csv("data_mci/mci_amyloid.csv", skip = 1) |>
  janitor::clean_names() |>
  drop_na()
# convert to long format
amyloid_long <- amyloid %>%
  pivot_longer(baseline:time_8, 
               names_to = "time", 
               values_to = "value")
```

After importing and reformatting the dataset, all “NA” values were
deleted, and the dataset was convert into long format. There are 0
participants appear in only the baseline dataset, and 347 participants
appear in only the amyloid dataset.

``` r
# Merge datasets
combined_mci <- merge(baseline, amyloid_long, by = "study_id" )
# Exporting the combined_mci to a CSV file
write.csv(combined_data, "data_mci/combined_dataset.csv", row.names = FALSE)
```

The “combined_mci” dataset is a combination of data derived from
baseline and amyloid_long. This combination includes both demographic
details and observed biomarker values, easier to analysis Alzheimer’s
disease.
